<!DOCTYPE html>
<html>
  <head>
    <title>Calculadora</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="card">
            <div class="card-header bg-success text-white">
              <h5>CALCULADORA</h5>
            </div>
            <div class="card-body">
              <table class="table table-bordered calculadora">
                <tr>
                  <td colspan="2">
                    <input type="text" id="resultado" class="form-control" />
                  </td>
                </tr>
                <tr>
                  <td>
                    <button
                      type="button"
                      class="btn btn-secondary btn-block"
                      id="limpiar"
                    >
                      C
                    </button>
                  </td>
                  <td>
                    <button
                      type="button"
                      class="btn btn-success btn-block"
                      id="igual"
                    >
                      =
                    </button>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        let botonIgual = document.getElementById("igual");
        let resultado = document.getElementById("resultado");
        let botonLimpiar = document.getElementById("limpiar");

        resultado.addEventListener("keyup",function () {
          let valor = resultado.value;
          let expresionRegular = /^[0-9+\-*/]+$/;
          if (expresionRegular.test(valor)) {
            resultado.classList.remove("is-invalid");
            resultado.classList.add("is-valid");
            botonIgual.disabled = false;
          } else {
            resultado.classList.remove("is-valid");
            resultado.classList.add("is-invalid");
            botonIgual.disabled = true;
          }
        });

       botonIgual.addEventListener("click",function () {
          let entrada = resultado.value;
          let resultadoFinal;
            resultadoFinal = eval(entrada);
           resultado.value = resultadoFinal;
        
        });

       botonLimpiar.addEventListener("click",function () {
          resultado.value = "";
          botonIgual.disabled = true;
        });
      });
    </script>
  </body>
</html>
